{"ast":null,"code":"// Language-neutral expression to match ER_UPDATE_INFO\nvar ER_UPDATE_INFO_REGEXP = /^[^:0-9]+: [0-9]+[^:0-9]+: ([0-9]+)[^:0-9]+: [0-9]+[^:0-9]*$/;\nmodule.exports = OkPacket;\n\nfunction OkPacket(options) {\n  options = options || {};\n  this.fieldCount = undefined;\n  this.affectedRows = undefined;\n  this.insertId = undefined;\n  this.serverStatus = undefined;\n  this.warningCount = undefined;\n  this.message = undefined;\n  this.protocol41 = options.protocol41;\n}\n\nOkPacket.prototype.parse = function (parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.affectedRows = parser.parseLengthCodedNumber();\n  this.insertId = parser.parseLengthCodedNumber();\n\n  if (this.protocol41) {\n    this.serverStatus = parser.parseUnsignedNumber(2);\n    this.warningCount = parser.parseUnsignedNumber(2);\n  }\n\n  this.message = parser.parsePacketTerminatedString();\n  this.changedRows = 0;\n  var m = ER_UPDATE_INFO_REGEXP.exec(this.message);\n\n  if (m !== null) {\n    this.changedRows = parseInt(m[1], 10);\n  }\n};\n\nOkPacket.prototype.write = function (writer) {\n  writer.writeUnsignedNumber(1, 0x00);\n  writer.writeLengthCodedNumber(this.affectedRows || 0);\n  writer.writeLengthCodedNumber(this.insertId || 0);\n\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(2, this.serverStatus || 0);\n    writer.writeUnsignedNumber(2, this.warningCount || 0);\n  }\n\n  writer.writeString(this.message);\n};","map":{"version":3,"sources":["C:/inetpub/wwwroot/ThesisProject/node_modules/mysql/lib/protocol/packets/OkPacket.js"],"names":["ER_UPDATE_INFO_REGEXP","module","exports","OkPacket","options","fieldCount","undefined","affectedRows","insertId","serverStatus","warningCount","message","protocol41","prototype","parse","parser","parseUnsignedNumber","parseLengthCodedNumber","parsePacketTerminatedString","changedRows","m","exec","parseInt","write","writer","writeUnsignedNumber","writeLengthCodedNumber","writeString"],"mappings":"AACA;AACA,IAAIA,qBAAqB,GAAG,8DAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBC,QAAjB;;AACA,SAASA,QAAT,CAAkBC,OAAlB,EAA2B;AACzBA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,OAAKC,UAAL,GAAoBC,SAApB;AACA,OAAKC,YAAL,GAAoBD,SAApB;AACA,OAAKE,QAAL,GAAoBF,SAApB;AACA,OAAKG,YAAL,GAAoBH,SAApB;AACA,OAAKI,YAAL,GAAoBJ,SAApB;AACA,OAAKK,OAAL,GAAoBL,SAApB;AACA,OAAKM,UAAL,GAAoBR,OAAO,CAACQ,UAA5B;AACD;;AAEDT,QAAQ,CAACU,SAAT,CAAmBC,KAAnB,GAA2B,UAASC,MAAT,EAAiB;AAC1C,OAAKV,UAAL,GAAoBU,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAApB;AACA,OAAKT,YAAL,GAAoBQ,MAAM,CAACE,sBAAP,EAApB;AACA,OAAKT,QAAL,GAAoBO,MAAM,CAACE,sBAAP,EAApB;;AACA,MAAI,KAAKL,UAAT,EAAqB;AACnB,SAAKH,YAAL,GAAoBM,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAApB;AACA,SAAKN,YAAL,GAAoBK,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAApB;AACD;;AACD,OAAKL,OAAL,GAAoBI,MAAM,CAACG,2BAAP,EAApB;AACA,OAAKC,WAAL,GAAoB,CAApB;AAEA,MAAIC,CAAC,GAAGpB,qBAAqB,CAACqB,IAAtB,CAA2B,KAAKV,OAAhC,CAAR;;AACA,MAAIS,CAAC,KAAK,IAAV,EAAgB;AACd,SAAKD,WAAL,GAAmBG,QAAQ,CAACF,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAA3B;AACD;AACF,CAfD;;AAiBAjB,QAAQ,CAACU,SAAT,CAAmBU,KAAnB,GAA2B,UAASC,MAAT,EAAiB;AAC1CA,EAAAA,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,IAA9B;AACAD,EAAAA,MAAM,CAACE,sBAAP,CAA8B,KAAKnB,YAAL,IAAqB,CAAnD;AACAiB,EAAAA,MAAM,CAACE,sBAAP,CAA8B,KAAKlB,QAAL,IAAiB,CAA/C;;AACA,MAAI,KAAKI,UAAT,EAAqB;AACnBY,IAAAA,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKhB,YAAL,IAAqB,CAAnD;AACAe,IAAAA,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKf,YAAL,IAAqB,CAAnD;AACD;;AACDc,EAAAA,MAAM,CAACG,WAAP,CAAmB,KAAKhB,OAAxB;AACD,CATD","sourcesContent":["\r\n// Language-neutral expression to match ER_UPDATE_INFO\r\nvar ER_UPDATE_INFO_REGEXP = /^[^:0-9]+: [0-9]+[^:0-9]+: ([0-9]+)[^:0-9]+: [0-9]+[^:0-9]*$/;\r\n\r\nmodule.exports = OkPacket;\r\nfunction OkPacket(options) {\r\n  options = options || {};\r\n\r\n  this.fieldCount   = undefined;\r\n  this.affectedRows = undefined;\r\n  this.insertId     = undefined;\r\n  this.serverStatus = undefined;\r\n  this.warningCount = undefined;\r\n  this.message      = undefined;\r\n  this.protocol41   = options.protocol41;\r\n}\r\n\r\nOkPacket.prototype.parse = function(parser) {\r\n  this.fieldCount   = parser.parseUnsignedNumber(1);\r\n  this.affectedRows = parser.parseLengthCodedNumber();\r\n  this.insertId     = parser.parseLengthCodedNumber();\r\n  if (this.protocol41) {\r\n    this.serverStatus = parser.parseUnsignedNumber(2);\r\n    this.warningCount = parser.parseUnsignedNumber(2);\r\n  }\r\n  this.message      = parser.parsePacketTerminatedString();\r\n  this.changedRows  = 0;\r\n\r\n  var m = ER_UPDATE_INFO_REGEXP.exec(this.message);\r\n  if (m !== null) {\r\n    this.changedRows = parseInt(m[1], 10);\r\n  }\r\n};\r\n\r\nOkPacket.prototype.write = function(writer) {\r\n  writer.writeUnsignedNumber(1, 0x00);\r\n  writer.writeLengthCodedNumber(this.affectedRows || 0);\r\n  writer.writeLengthCodedNumber(this.insertId || 0);\r\n  if (this.protocol41) {\r\n    writer.writeUnsignedNumber(2, this.serverStatus || 0);\r\n    writer.writeUnsignedNumber(2, this.warningCount || 0);\r\n  }\r\n  writer.writeString(this.message);\r\n};\r\n"]},"metadata":{},"sourceType":"script"}