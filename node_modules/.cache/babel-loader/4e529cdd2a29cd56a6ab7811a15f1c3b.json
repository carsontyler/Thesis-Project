{"ast":null,"code":"import _slicedToArray from\"C:\\\\inetpub\\\\wwwroot\\\\Thesis-Project\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from\"react\";import _ from'lodash';import{View,Button}from\"react-native\";import{Card,CardHeader,CardTitle,CardBody}from\"reactstrap\";import{RecipeComp}from\"./../../components/RecipeComp\";import{SurveyComp}from\"../../components/SurveyComp\";import\"./homepage.css\";const breakfast_recipes=require('./../../data/breakfast_recipes.json');const dessert_recipes=require('./../../data/dessert_recipes.json');const dinner_recipes=require('./../../data/dinner_recipes.json');const gluten_free_recipes=require('./../../data/gluten_free_recipes.json');const side_recipes=require('./../../data/side_recipes.json');export const HomePage=()=>{const _useState=useState([]),_useState2=_slicedToArray(_useState,2),allRecipes=_useState2[0],setRecipes=_useState2[1];const _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),mainRecipes=_useState4[0],setMainRecipes=_useState4[1];let _useState5=useState(),_useState6=_slicedToArray(_useState5,2),currentRecipe=_useState6[0],setCurrentRecipe=_useState6[1];let _useState7=useState(),_useState8=_slicedToArray(_useState7,2),tempCurrentRecipe=_useState8[0],setTempCurrentRecipe=_useState8[1];let _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),groupId=_useState10[0],setGroupId=_useState10[1];let _useState11=useState(-1),_useState12=_slicedToArray(_useState11,2),index=_useState12[0],setIndex=_useState12[1];let _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),directionsAccepted=_useState14[0],setDirectionsAccepted=_useState14[1];let _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),similar_recipes=_useState16[0],setSimilarRecipes=_useState16[1];let _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),certain_recipes=_useState18[0],setCertainRecipes=_useState18[1];let _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),uncertain_recipes=_useState20[0],setUncertainRecipes=_useState20[1];const handleClick=rcp=>{if(index===1)setTempCurrentRecipe(rcp);else if(index===0)setCurrentRecipe(rcp);if(rcp.most_similar.length>0){setSimilarRecipes(_.filter(allRecipes,rcp=>{return currentRecipe?currentRecipe.most_similar.includes(rcp.id):false;}));setCertainRecipes(_.filter(similar_recipes,rcp=>{return rcp.type==='certain';}));setUncertainRecipes(_.filter(similar_recipes,rcp=>{return rcp.type==='uncertain';}));}};const handleSubmit=event=>{setIndex(0);};const selectRecipeClick=()=>{let temp=++index;if(temp===1)setTempCurrentRecipe(currentRecipe);if(temp>1){temp=0;setGroupId(++groupId);if(groupId===5)temp=2;}setIndex(temp);};const directionsCheckboxChange=event=>{setDirectionsAccepted(event.target.checked);};const submitSurvey=event=>{selectRecipeClick();};const refresh=()=>{let recipes=[];if(groupId===0)recipes=breakfast_recipes;else if(groupId===1)recipes=dessert_recipes;else if(groupId===2)recipes=dinner_recipes;else if(groupId===3)recipes=gluten_free_recipes;else if(groupId===4)recipes=side_recipes;setRecipes(recipes);let mainRecipes=_.filter(recipes,recipe=>{return recipe.type===\"main\";});setMainRecipes(mainRecipes);setCurrentRecipe(mainRecipes[0]);if(currentRecipe&&currentRecipe.most_similar.length>0){setSimilarRecipes(_.filter(recipes,rcp=>{console.log(rcp.id);console.log(currentRecipe?currentRecipe.most_similar.includes(rcp.id):false);return currentRecipe?currentRecipe.most_similar.includes(rcp.id):false;}));setCertainRecipes(_.filter(similar_recipes,rcp=>{return rcp.type==='certain';}));setUncertainRecipes(_.filter(similar_recipes,rcp=>{return rcp.type==='uncertain';}));}};useEffect(()=>{refresh();},[]);useEffect(()=>{refresh();},[index]);useEffect(()=>{refresh();},[directionsAccepted]);return index===-1?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'row'}},/*#__PURE__*/React.createElement(Card,{className:\"card-chart\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,{tag:\"h3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"tim-icons icon-bell-55 text-info\"}),\" \",\"Directions and Disclosure\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"p\",null,\"Thank you for participating in Carson's Thesis Project Experiment!\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Directions\"),/*#__PURE__*/React.createElement(\"p\",null,\"In this experiment, you will be selecting recipes based on a given scenario and then rating recommendations based on your selection. You can select recipes by clicking on them.\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Five (5) scenarios will be presented. You should select the recipe you think is the best. There is no right answer, simply pick the one you think looks the best, would be the most delicious, is the easiest to cook - whatever.\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Upon selecting a recipe, you will be presented with ten (10) recommended recipes. You can cycle through the recipes by clicking on them.\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"You will then fill out a survey related to the recommended recipes and the recommendation system as a whole. You will rate these from 1-5 by clicking on the stars.\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{name:\"directionsCheckbox\",type:\"checkbox\",onChange:directionsCheckboxChange}),\"I understand these directions and accept the terms and conditions.\",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Submit\",disabled:!directionsAccepted,onClick:handleSubmit})))))):currentRecipe?index===0?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'row'}},/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'column'}},/*#__PURE__*/React.createElement(Card,{className:\"card-chart\"},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,{tag:\"h3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"tim-icons icon-bell-55 text-info\"}),\" \",\"Recipe Recommender\")),/*#__PURE__*/React.createElement(CardBody,null,mainRecipes?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"recipe1\",onClick:()=>handleClick(mainRecipes[0])},/*#__PURE__*/React.createElement(\"span\",null,\"1. \",mainRecipes[0].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe2\",onClick:()=>handleClick(mainRecipes[1])},/*#__PURE__*/React.createElement(\"span\",null,\"2. \",mainRecipes[1].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe3\",onClick:()=>handleClick(mainRecipes[2])},/*#__PURE__*/React.createElement(\"span\",null,\"3. \",mainRecipes[2].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe4\",onClick:()=>handleClick(mainRecipes[3])},/*#__PURE__*/React.createElement(\"span\",null,\"4. \",mainRecipes[3].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe5\",onClick:()=>handleClick(mainRecipes[4])},/*#__PURE__*/React.createElement(\"span\",null,\"5. \",mainRecipes[4].title))):/*#__PURE__*/React.createElement(\"div\",null,\"No Recipes Found\"))),/*#__PURE__*/React.createElement(Button,{onPress:selectRecipeClick,title:\"Select Recipe\",color:\"#4ECCA3\"})),/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'column'}},/*#__PURE__*/React.createElement(RecipeComp,{recipe:currentRecipe})))):index===1?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'row'}},/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'column'}},/*#__PURE__*/React.createElement(View,{style:{flex:3,flexDirection:'row'}},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe_div\"},/*#__PURE__*/React.createElement(RecipeComp,{recipe:tempCurrentRecipe}))),/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'row'}},/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'column'}},/*#__PURE__*/React.createElement(\"div\",{id:\"recipe1\",onClick:()=>handleClick(similar_recipes[0])},/*#__PURE__*/React.createElement(\"span\",null,\"1. \",similar_recipes[0].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe2\",onClick:()=>handleClick(similar_recipes[1])},/*#__PURE__*/React.createElement(\"span\",null,\"2. \",similar_recipes[1].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe3\",onClick:()=>handleClick(similar_recipes[2])},/*#__PURE__*/React.createElement(\"span\",null,\"3. \",similar_recipes[2].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe4\",onClick:()=>handleClick(similar_recipes[3])},/*#__PURE__*/React.createElement(\"span\",null,\"4. \",similar_recipes[3].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe5\",onClick:()=>handleClick(similar_recipes[4])},/*#__PURE__*/React.createElement(\"span\",null,\"5. \",similar_recipes[4].title))),/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'column'}},/*#__PURE__*/React.createElement(\"div\",{id:\"recipe6\",onClick:()=>handleClick(similar_recipes[5])},/*#__PURE__*/React.createElement(\"span\",null,\"6. \",similar_recipes[5].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe7\",onClick:()=>handleClick(similar_recipes[6])},/*#__PURE__*/React.createElement(\"span\",null,\"7. \",similar_recipes[6].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe8\",onClick:()=>handleClick(similar_recipes[7])},/*#__PURE__*/React.createElement(\"span\",null,\"8. \",similar_recipes[7].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe9\",onClick:()=>handleClick(similar_recipes[8])},/*#__PURE__*/React.createElement(\"span\",null,\"9. \",similar_recipes[8].title)),/*#__PURE__*/React.createElement(\"div\",{id:\"recipe10\",onClick:()=>handleClick(similar_recipes[9])},/*#__PURE__*/React.createElement(\"span\",null,\"10. \",similar_recipes[9].title))))),/*#__PURE__*/React.createElement(View,{style:{flex:1,flexDirection:'column'}},/*#__PURE__*/React.createElement(\"div\",{className:\"main_div\"},/*#__PURE__*/React.createElement(SurveyComp,{submitSurvey:submitSurvey,recipe:currentRecipe,similar_recipes:allRecipes})))))):index===2?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"span\",null,\"Thank you for participating!\")):/*#__PURE__*/React.createElement(\"div\",null,\"Current Recipe isn't set. Please contact Carson (385) 244-6611\"):/*#__PURE__*/React.createElement(\"div\",null,\"Index doesn't equal -1. Please contact Carson (385) 244-6611\");};export default HomePage;","map":{"version":3,"sources":["C:/inetpub/wwwroot/Thesis-Project/src/views/HomePage/HomePage.tsx"],"names":["React","Fragment","useEffect","useState","_","View","Button","Card","CardHeader","CardTitle","CardBody","RecipeComp","SurveyComp","breakfast_recipes","require","dessert_recipes","dinner_recipes","gluten_free_recipes","side_recipes","HomePage","allRecipes","setRecipes","mainRecipes","setMainRecipes","currentRecipe","setCurrentRecipe","tempCurrentRecipe","setTempCurrentRecipe","groupId","setGroupId","index","setIndex","directionsAccepted","setDirectionsAccepted","similar_recipes","setSimilarRecipes","certain_recipes","setCertainRecipes","uncertain_recipes","setUncertainRecipes","handleClick","rcp","most_similar","length","filter","includes","id","type","handleSubmit","event","selectRecipeClick","temp","directionsCheckboxChange","target","checked","submitSurvey","refresh","recipes","recipe","console","log","flex","flexDirection","title"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\"\r\nimport _ from 'lodash'\r\nimport { View, Button } from \"react-native\"\r\nimport {Card, CardHeader, CardTitle, CardBody, Col, CardImg, Row} from \"reactstrap\"\r\nimport { RecipeComp } from \"./../../components/RecipeComp\";\r\nimport { SurveyComp } from \"../../components/SurveyComp\"\r\nimport \"./homepage.css\"\r\n\r\nexport interface Recipe {\r\n  id: number,\r\n  type: string, \r\n  recipe: string,\r\n  title: string,\r\n  most_similar: [number],\r\n  ratings: number,\r\n  stars: number,\r\n  image: string,\r\n  ingredients: [string],\r\n  directions: [string],\r\n}\r\n\r\nconst breakfast_recipes = require('./../../data/breakfast_recipes.json')\r\nconst dessert_recipes = require('./../../data/dessert_recipes.json')\r\nconst dinner_recipes = require('./../../data/dinner_recipes.json')\r\nconst gluten_free_recipes = require('./../../data/gluten_free_recipes.json')\r\nconst side_recipes = require('./../../data/side_recipes.json') \r\n\r\nexport const HomePage: React.FC = () => {  \r\n  \r\n  const [allRecipes, setRecipes] = useState<Recipe[]>([]);\r\n  const [mainRecipes, setMainRecipes] = useState<Recipe[]>([]);\r\n  let [currentRecipe, setCurrentRecipe] = useState<Recipe>();\r\n  let [tempCurrentRecipe, setTempCurrentRecipe] = useState<Recipe>();\r\n  let [groupId, setGroupId] = useState(0);\r\n  let [index, setIndex] = useState(-1);\r\n  let [directionsAccepted, setDirectionsAccepted] = useState(false);\r\n  \r\n  let [similar_recipes, setSimilarRecipes] = useState<Recipe[]>([]);\r\n  let [certain_recipes, setCertainRecipes] = useState<Recipe[]>([]);\r\n  let [uncertain_recipes, setUncertainRecipes] = useState<Recipe[]>([]);\r\n    \r\n  interface Recipe {\r\n    id: number,\r\n    type: string, \r\n    recipe: string,\r\n    title: string,\r\n    most_similar: [number],\r\n    ratings: number,\r\n    stars: number,\r\n    image: string,\r\n    ingredients: [string],\r\n    directions: [string],\r\n  }\r\n  \r\n  const handleClick = (rcp: Recipe) => {\r\n    if (index === 1)\r\n      setTempCurrentRecipe(rcp);\r\n    else if (index === 0)\r\n      setCurrentRecipe(rcp);\r\n    if (rcp.most_similar.length > 0) {\r\n      setSimilarRecipes(_.filter(allRecipes, (rcp: Recipe) => {\r\n        return currentRecipe ? currentRecipe.most_similar.includes(rcp.id) : false;\r\n      }));\r\n      setCertainRecipes(_.filter(similar_recipes, (rcp: Recipe) => {\r\n        return rcp.type === 'certain';\r\n      }));\r\n      setUncertainRecipes(_.filter(similar_recipes, (rcp: Recipe) => {\r\n        return rcp.type === 'uncertain';\r\n      }));\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (event: any) => {\r\n    setIndex(0);\r\n  }\r\n \r\n  const selectRecipeClick = () => {\r\n    let temp = ++index;\r\n    if (temp === 1)\r\n      setTempCurrentRecipe(currentRecipe);\r\n    if (temp > 1) {\r\n      temp = 0;\r\n      setGroupId(++groupId);\r\n      if (groupId === 5)\r\n        temp = 2;\r\n    }\r\n    setIndex(temp);\r\n  }\r\n\r\n  const directionsCheckboxChange = (event : any) => {\r\n    setDirectionsAccepted(event.target.checked);\r\n  }\r\n\r\n  const submitSurvey = (event: any) => {\r\n    selectRecipeClick();\r\n  }\r\n\r\n  const refresh = () => {\r\n    let recipes:Recipe[] = [];\r\n\r\n    if (groupId === 0)\r\n      recipes = breakfast_recipes;\r\n    else if (groupId === 1)\r\n      recipes = dessert_recipes;\r\n    else if (groupId === 2)\r\n      recipes = dinner_recipes;\r\n    else if (groupId === 3)\r\n      recipes = gluten_free_recipes;\r\n    else if (groupId === 4)\r\n      recipes = side_recipes;\r\n\r\n    setRecipes(recipes);\r\n\r\n    let mainRecipes = _.filter(recipes, (recipe: Recipe) => {\r\n        return recipe.type === \"main\";\r\n    });\r\n    \r\n    setMainRecipes(mainRecipes);\r\n    setCurrentRecipe(mainRecipes[0]);\r\n\r\n    if (currentRecipe && currentRecipe.most_similar.length > 0) {\r\n      setSimilarRecipes(_.filter(recipes, (rcp: Recipe) => {\r\n        console.log(rcp.id);\r\n        console.log(currentRecipe ? currentRecipe.most_similar.includes(rcp.id) : false);\r\n        return currentRecipe ? currentRecipe.most_similar.includes(rcp.id) : false;\r\n      }));\r\n      setCertainRecipes(_.filter(similar_recipes, (rcp: Recipe) => {\r\n        return rcp.type === 'certain';\r\n      }));\r\n      setUncertainRecipes(_.filter(similar_recipes, (rcp: Recipe) => {\r\n        return rcp.type === 'uncertain';\r\n      }));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  }, [index])\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  }, [directionsAccepted])\r\n  \r\n  return index === -1 ? (\r\n    <Fragment>\r\n      <View style={{flex: 1, flexDirection: 'row'}}>\r\n        <Card className=\"card-chart\">\r\n          <CardHeader>\r\n            <CardTitle tag=\"h3\">\r\n                <i className=\"tim-icons icon-bell-55 text-info\" />{\" \"}\r\n                Directions and Disclosure\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <p>\r\n              Thank you for participating in Carson's Thesis Project Experiment! \r\n            </p>\r\n            <h3>Directions</h3>\r\n            <p>\r\n              In this experiment, you will be selecting recipes based on a given scenario and then rating recommendations based on your selection. You can select recipes by clicking on them.\r\n            <br/>\r\n            <br/>\r\n              Five (5) scenarios will be presented. You should select the recipe you think is the best. There is no right answer, simply pick the one you think looks the best, would be the most delicious, is the easiest to cook - whatever. \r\n            <br/>\r\n            <br/>\r\n              Upon selecting a recipe, you will be presented with ten (10) recommended recipes. You can cycle through the recipes by clicking on them. \r\n            <br/>\r\n            <br/>\r\n              You will then fill out a survey related to the recommended recipes and the recommendation system as a whole. You will rate these from 1-5 by clicking on the stars. \r\n            </p>\r\n            <form>\r\n              <label>\r\n                <input \r\n                  name=\"directionsCheckbox\"\r\n                  type=\"checkbox\"\r\n                  onChange={directionsCheckboxChange}/>\r\n                  I understand these directions and accept the terms and conditions.\r\n                  <br/>\r\n              </label>\r\n              <input type=\"submit\" value=\"Submit\" disabled={!directionsAccepted} onClick={handleSubmit}/>\r\n            </form>\r\n          </CardBody>\r\n        </Card>\r\n      </View>\r\n    </Fragment>\r\n   ) : \r\n  currentRecipe ? (index === 0 ? (    \r\n    <Fragment>\r\n      <View style={{flex: 1, flexDirection: 'row'}}>\r\n        <View style={{flex: 1, flexDirection: 'column'}}>\r\n          <Card className=\"card-chart\">\r\n            <CardHeader>\r\n              <CardTitle tag=\"h3\">\r\n                <i className=\"tim-icons icon-bell-55 text-info\" />{\" \"}\r\n                Recipe Recommender\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardBody>{mainRecipes ? (\r\n              <div>\r\n                <div id=\"recipe1\" onClick={() => handleClick(mainRecipes[0])}>\r\n                  <span>1. { mainRecipes[0].title }</span>\r\n                </div>\r\n                <div id=\"recipe2\" onClick={() => handleClick(mainRecipes[1])}>\r\n                  <span>2. { mainRecipes[1].title }</span>\r\n                </div>\r\n                <div id=\"recipe3\" onClick={() => handleClick(mainRecipes[2])}>\r\n                  <span>3. { mainRecipes[2].title }</span>\r\n                </div>\r\n                <div id=\"recipe4\" onClick={() => handleClick(mainRecipes[3])}>\r\n                  <span>4. { mainRecipes[3].title }</span>\r\n                </div>\r\n                <div id=\"recipe5\" onClick={() => handleClick(mainRecipes[4])}>\r\n                  <span>5. { mainRecipes[4].title }</span>\r\n                </div>\r\n              </div>\r\n              )\r\n              : (<div>No Recipes Found</div>)}\r\n            </CardBody>\r\n          </Card>\r\n          <Button onPress={selectRecipeClick} title=\"Select Recipe\" color=\"#4ECCA3\" /> \r\n        </View>  \r\n        <View style={{flex: 1, flexDirection: 'column'}}>\r\n          <RecipeComp recipe={currentRecipe} />\r\n        </View>\r\n      </View>\r\n    </Fragment>\r\n  ) \r\n  : index === 1 ?   \r\n    <Fragment>\r\n      <div> \r\n        <View style={{flex: 1, flexDirection: 'row'}}>\r\n          <View style={{flex: 1, flexDirection: 'column'}}>\r\n            <View style={{flex: 3, flexDirection: 'row'}}>\r\n              <div className='recipe_div'>\r\n                <RecipeComp recipe={tempCurrentRecipe} />\r\n              </div>\r\n            </View>\r\n            <View style={{flex: 1, flexDirection: 'row'}}>\r\n              <View style={{flex: 1, flexDirection: 'column'}}>\r\n                <div id=\"recipe1\" onClick={() => handleClick(similar_recipes[0])}>\r\n                  <span>1. { similar_recipes[0].title }</span>\r\n                </div>\r\n                <div id=\"recipe2\" onClick={() => handleClick(similar_recipes[1])}>\r\n                  <span>2. { similar_recipes[1].title }</span>\r\n                </div>\r\n                <div id=\"recipe3\" onClick={() => handleClick(similar_recipes[2])}>\r\n                  <span>3. { similar_recipes[2].title }</span>\r\n                </div>\r\n                <div id=\"recipe4\" onClick={() => handleClick(similar_recipes[3])}>\r\n                  <span>4. { similar_recipes[3].title }</span>\r\n                </div>\r\n                <div id=\"recipe5\" onClick={() => handleClick(similar_recipes[4])}>\r\n                  <span>5. { similar_recipes[4].title }</span>\r\n                </div>\r\n              </View>\r\n              <View style={{flex: 1, flexDirection: 'column'}}>\r\n                <div id=\"recipe6\" onClick={() => handleClick(similar_recipes[5])}>\r\n                  <span>6. { similar_recipes[5].title }</span>\r\n                </div>\r\n                <div id=\"recipe7\" onClick={() => handleClick(similar_recipes[6])}>\r\n                  <span>7. { similar_recipes[6].title }</span>\r\n                </div>\r\n                <div id=\"recipe8\" onClick={() => handleClick(similar_recipes[7])}>\r\n                  <span>8. { similar_recipes[7].title }</span>\r\n                </div>\r\n                <div id=\"recipe9\" onClick={() => handleClick(similar_recipes[8])}>\r\n                  <span>9. { similar_recipes[8].title }</span>\r\n                </div>\r\n                <div id=\"recipe10\" onClick={() => handleClick(similar_recipes[9])}>\r\n                  <span>10. { similar_recipes[9].title }</span>\r\n                </div>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{flex: 1, flexDirection: 'column'}}>\r\n            <div className='main_div'> \r\n            <SurveyComp submitSurvey={submitSurvey} recipe={currentRecipe} similar_recipes={allRecipes}/>\r\n            </div> \r\n          </View>\r\n        </View>\r\n      </div>\r\n    </Fragment> \r\n  : index === 2 ? \r\n    <Fragment>\r\n      <span>Thank you for participating!</span>\r\n    </Fragment>\r\n  : (<div>Current Recipe isn't set. Please contact Carson (385) 244-6611</div>)) \r\n  : (<div>Index doesn't equal -1. Please contact Carson (385) 244-6611</div>);  \r\n  \r\n}\r\n\r\nexport default HomePage"]},"metadata":{},"sourceType":"module"}