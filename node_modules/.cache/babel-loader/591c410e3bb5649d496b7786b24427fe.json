{"ast":null,"code":"var Sequence = require('./Sequence');\n\nvar Util = require('util');\n\nvar Packets = require('../packets');\n\nmodule.exports = Quit;\nUtil.inherits(Quit, Sequence);\n\nfunction Quit(options, callback) {\n  if (!callback && typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n\n  Sequence.call(this, options, callback);\n  this._started = false;\n}\n\nQuit.prototype.end = function end(err) {\n  if (this._ended) {\n    return;\n  }\n\n  if (!this._started) {\n    Sequence.prototype.end.call(this, err);\n    return;\n  }\n\n  if (err && err.code === 'ECONNRESET' && err.syscall === 'read') {\n    // Ignore read errors after packet sent\n    Sequence.prototype.end.call(this);\n    return;\n  }\n\n  Sequence.prototype.end.call(this, err);\n};\n\nQuit.prototype.start = function () {\n  this._started = true;\n  this.emit('packet', new Packets.ComQuitPacket());\n};","map":{"version":3,"sources":["C:/inetpub/wwwroot/ThesisProject/node_modules/mysql/lib/protocol/sequences/Quit.js"],"names":["Sequence","require","Util","Packets","module","exports","Quit","inherits","options","callback","call","_started","prototype","end","err","_ended","code","syscall","start","emit","ComQuitPacket"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIC,IAAI,GAAOD,OAAO,CAAC,MAAD,CAAtB;;AACA,IAAIE,OAAO,GAAIF,OAAO,CAAC,YAAD,CAAtB;;AAEAG,MAAM,CAACC,OAAP,GAAiBC,IAAjB;AACAJ,IAAI,CAACK,QAAL,CAAcD,IAAd,EAAoBN,QAApB;;AACA,SAASM,IAAT,CAAcE,OAAd,EAAuBC,QAAvB,EAAiC;AAC/B,MAAI,CAACA,QAAD,IAAa,OAAOD,OAAP,KAAmB,UAApC,EAAgD;AAC9CC,IAAAA,QAAQ,GAAGD,OAAX;AACAA,IAAAA,OAAO,GAAG,EAAV;AACD;;AAEDR,EAAAA,QAAQ,CAACU,IAAT,CAAc,IAAd,EAAoBF,OAApB,EAA6BC,QAA7B;AAEA,OAAKE,QAAL,GAAgB,KAAhB;AACD;;AAEDL,IAAI,CAACM,SAAL,CAAeC,GAAf,GAAqB,SAASA,GAAT,CAAaC,GAAb,EAAkB;AACrC,MAAI,KAAKC,MAAT,EAAiB;AACf;AACD;;AAED,MAAI,CAAC,KAAKJ,QAAV,EAAoB;AAClBX,IAAAA,QAAQ,CAACY,SAAT,CAAmBC,GAAnB,CAAuBH,IAAvB,CAA4B,IAA5B,EAAkCI,GAAlC;AACA;AACD;;AAED,MAAIA,GAAG,IAAIA,GAAG,CAACE,IAAJ,KAAa,YAApB,IAAoCF,GAAG,CAACG,OAAJ,KAAgB,MAAxD,EAAgE;AAC9D;AACAjB,IAAAA,QAAQ,CAACY,SAAT,CAAmBC,GAAnB,CAAuBH,IAAvB,CAA4B,IAA5B;AACA;AACD;;AAEDV,EAAAA,QAAQ,CAACY,SAAT,CAAmBC,GAAnB,CAAuBH,IAAvB,CAA4B,IAA5B,EAAkCI,GAAlC;AACD,CAjBD;;AAmBAR,IAAI,CAACM,SAAL,CAAeM,KAAf,GAAuB,YAAW;AAChC,OAAKP,QAAL,GAAgB,IAAhB;AACA,OAAKQ,IAAL,CAAU,QAAV,EAAoB,IAAIhB,OAAO,CAACiB,aAAZ,EAApB;AACD,CAHD","sourcesContent":["var Sequence = require('./Sequence');\r\nvar Util     = require('util');\r\nvar Packets  = require('../packets');\r\n\r\nmodule.exports = Quit;\r\nUtil.inherits(Quit, Sequence);\r\nfunction Quit(options, callback) {\r\n  if (!callback && typeof options === 'function') {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n\r\n  Sequence.call(this, options, callback);\r\n\r\n  this._started = false;\r\n}\r\n\r\nQuit.prototype.end = function end(err) {\r\n  if (this._ended) {\r\n    return;\r\n  }\r\n\r\n  if (!this._started) {\r\n    Sequence.prototype.end.call(this, err);\r\n    return;\r\n  }\r\n\r\n  if (err && err.code === 'ECONNRESET' && err.syscall === 'read') {\r\n    // Ignore read errors after packet sent\r\n    Sequence.prototype.end.call(this);\r\n    return;\r\n  }\r\n\r\n  Sequence.prototype.end.call(this, err);\r\n};\r\n\r\nQuit.prototype.start = function() {\r\n  this._started = true;\r\n  this.emit('packet', new Packets.ComQuitPacket());\r\n};\r\n"]},"metadata":{},"sourceType":"script"}